{"ast":null,"code":"var _jsxFileName = \"/Users/minos/Documents/git/Practice/React/hello-react/src/pages/NewCalendarCell.js\";\nimport React, { useState, useEffect } from 'react';\nimport 'sass/app.css';\n\nconst NewCalendarCell = props => {\n  const {\n    date,\n    schedule\n  } = props;\n  const [curDateStr, setCurDateStr] = useState('');\n  useEffect(() => {\n    let newCurDateStr = date.getDate();\n\n    if (schedule.length !== 0) {\n      newCurDateStr += ' (' + schedule.length + ')';\n    }\n\n    setCurDateStr(newCurDateStr);\n  }, [schedule]);\n\n  const onClickDate = () => {\n    if (!active) {\n      const startHour = new Date().getHours();\n      setAddFormState({ ...addFormState,\n        active: true,\n        mode: 'add',\n        title: '',\n        curDate: date,\n        startHour: startHour,\n        endHour: startHour + 1\n      });\n    }\n  };\n\n  const onClickSchedule = (e, schedule) => {\n    e.stopPropagation();\n    const {\n      title,\n      curDate,\n      startHour,\n      endHour\n    } = schedule;\n\n    if (!active) {\n      setAddFormState({ ...addFormState,\n        active: true,\n        mode: 'edit',\n        title: title,\n        curDate: curDate,\n        startHour: startHour,\n        endHour: endHour\n      });\n    }\n  };\n\n  const onDropSchedule = e => {\n    const newSchedule = editDate(dragAndDrop.to, dragAndDrop.from, userData.schedule);\n\n    if (newSchedule !== false) {\n      setUserData({ ...userData,\n        schedule: newSchedule\n      });\n      setAddFormState({ ...addFormState,\n        active: false\n      });\n      setErrorState({ ...errorState,\n        active: true,\n        mode: 'edit',\n        message: [['일정이 수정 되었습니다.']]\n      });\n    } else {\n      setErrorState({ ...errorState,\n        active: true,\n        mode: 'fail',\n        message: [['일정을 수정할 수 없습니다.'], ['해당 시간에 이미 다른 일정이 존재합니다.']]\n      });\n    }\n  };\n\n  const onDragCell = (e, schedule) => {\n    setDragAndDrop({ ...dragAndDrop,\n      from: schedule\n    });\n  };\n\n  const onDragEnterCell = e => {\n    const {\n      title,\n      startHour,\n      endHour\n    } = dragAndDrop.from;\n    const newScheduleForm = {\n      title: title,\n      curDate: date,\n      startHour: startHour,\n      endHour: endHour\n    };\n    setDragAndDrop({ ...dragAndDrop,\n      to: newScheduleForm\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"monthly-cell\",\n    onClick: onClickDate,\n    onDragEnter: onDragEnterCell,\n    onDragEnd: onDropSchedule,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, curDateStr), schedule.map((a, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    className: \"monthly-schedule\",\n    onClick: e => onClickSchedule(e, a),\n    draggable: true,\n    onDragStart: e => onDragCell(e, a),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, a.startHour + '시 ~ ' + a.endHour + '시'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, a.title))));\n};\n\nexport default NewCalendarCell;","map":{"version":3,"sources":["/Users/minos/Documents/git/Practice/React/hello-react/src/pages/NewCalendarCell.js"],"names":["React","useState","useEffect","NewCalendarCell","props","date","schedule","curDateStr","setCurDateStr","newCurDateStr","getDate","length","onClickDate","active","startHour","Date","getHours","setAddFormState","addFormState","mode","title","curDate","endHour","onClickSchedule","e","stopPropagation","onDropSchedule","newSchedule","editDate","dragAndDrop","to","from","userData","setUserData","setErrorState","errorState","message","onDragCell","setDragAndDrop","onDragEnterCell","newScheduleForm","map","a","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'sass/app.css';\n\nconst NewCalendarCell = (props) => {\n    const { date, schedule } = props;\n    const [curDateStr, setCurDateStr] = useState('');\n\n    useEffect(\n        () => {\n            let newCurDateStr = date.getDate();\n            if (schedule.length !== 0) {\n                newCurDateStr += ' (' + schedule.length + ')';\n            }\n            setCurDateStr(newCurDateStr);\n        },\n        [schedule]\n    );\n\n    const onClickDate = () => {\n        if (!active) {\n            const startHour = new Date().getHours();\n            setAddFormState({\n                ...addFormState,\n                active: true,\n                mode: 'add',\n                title: '',\n                curDate: date,\n                startHour: startHour,\n                endHour: startHour + 1\n            });\n        }\n    };\n\n    const onClickSchedule = (e, schedule) => {\n        e.stopPropagation();\n        const { title, curDate, startHour, endHour } = schedule;\n\n        if (!active) {\n            setAddFormState({\n                ...addFormState,\n                active: true,\n                mode: 'edit',\n                title: title,\n                curDate: curDate,\n                startHour: startHour,\n                endHour: endHour\n            });\n        }\n    };\n\n    const onDropSchedule = (e) => {\n        const newSchedule = editDate(dragAndDrop.to, dragAndDrop.from, userData.schedule);\n\n        if (newSchedule !== false) {\n            setUserData({ ...userData, schedule: newSchedule });\n            setAddFormState({ ...addFormState, active: false });\n            setErrorState({\n                ...errorState,\n                active: true,\n                mode: 'edit',\n                message: [['일정이 수정 되었습니다.']]\n            });\n        } else {\n            setErrorState({\n                ...errorState,\n                active: true,\n                mode: 'fail',\n                message: [['일정을 수정할 수 없습니다.'], ['해당 시간에 이미 다른 일정이 존재합니다.']]\n            });\n        }\n    };\n\n    const onDragCell = (e, schedule) => {\n        setDragAndDrop({ ...dragAndDrop, from: schedule });\n    };\n\n    const onDragEnterCell = (e) => {\n        const { title, startHour, endHour } = dragAndDrop.from;\n        const newScheduleForm = { title: title, curDate: date, startHour: startHour, endHour: endHour };\n        setDragAndDrop({ ...dragAndDrop, to: newScheduleForm });\n    };\n\n    return (\n        <div className=\"monthly-cell\" onClick={onClickDate} onDragEnter={onDragEnterCell} onDragEnd={onDropSchedule}>\n            <p>{curDateStr}</p>\n\n            {schedule.map((a, i) => (\n                <div\n                    key={i}\n                    className=\"monthly-schedule\"\n                    onClick={(e) => onClickSchedule(e, a)}\n                    draggable\n                    onDragStart={(e) => onDragCell(e, a)}\n                >\n                    <p>{a.startHour + '시 ~ ' + a.endHour + '시'}</p>\n                    <p>{a.title}</p>\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default NewCalendarCell;\n"]},"metadata":{},"sourceType":"module"}